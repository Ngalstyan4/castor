.\" Text automatically generated by txt2man
.TH record 1 "03 June 2018" "man" "FreeBSD Reference Manual"
.SH NAME
\fBrecord â€“ record program execution.
\fB
.SH SYNOPSIS
.nf
.fam C
\fBrecord\fP [\fIoptions\fP] \fIprogram-path\fP [\fIprogram-args\fP]

.fam T
.fi
.fam T
.fi
.SH DESCRIPTION
The \fBrecord\fP utility is part of the Castor \fBrecord\fP/replay system. It records
program execution to a log, which can later be replayed with the \fBreplay\fP(1)
utility.
.PP
To do this, the \fBrecord\fP utility spawns a new process to run the program at
\fIprogram-path\fP with \fIprogram-args\fP and loads the castor runtime into the program's
address space at startup. The runtime records all non-deterministic inputs
such as as system calls \fBgetpid\fP(2), \fBread\fP(2), or \fBrecv\fP(2), using shared library
interposition, as well as language level non-determinism e.g. C/C++ atomics,
RDTSC.
.PP
A log of these events is written to a memory buffer shared with the \fBrecord\fP
process, which drains this log onto disk.
.SH OPTIONS
.TP
.B
\fB-h\fP
Help
.PP
\fB-o\fP [file] Log file name. (default: default.rr)
.PP
\fB-r\fP [size] Size of shared region memory region used to communicate between \fBrecord\fP process and application processes.
.PP
\fB-e\fP [entries] Number of entries per thread
.PP
\fB-c\fP [cores] Maximum number of application cores
.PP
\fB-p\fP Pin threads
.PP
\fB-t\fP Stops child process on creation for attaching a debugger in \fBrecord\fP mode
.SH EXIT STATUS
If an error occurs \fBrecord\fP exits 1, otherwise, it exists with whatever the
exit status of the program being recorded.
.SH COMPATIBILITY
Castor only targets FreeBSD Release 1.2 Stable and beyond.
.SH LIMITATIONS
Castor may not be able to replay applications that make system calls directly or that
don't build with the castor compiler pass.
.SH SEE ALSO
\fBreplay\fP(1), \fBrrlog\fP(1), \fBrr_printf\fP(3), \fBrr_assert\fP(3)
